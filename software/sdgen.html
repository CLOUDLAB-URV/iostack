<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-gb" lang="en-gb">

<head>
    <script type="text/javascript">
var siteurl='/';
var tmplurl='/templates/ja_mendozite/';
var isRTL = false;
</script>

  <base href="" />
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta name="author" content="Super User" />
  <meta name="description" content="Software-Defined Storage for Big Data" />
  <meta name="generator" content="Joomla! - Open Source Content Management" />
  <title>SDGen</title>
  <link rel="stylesheet" href="http://iostack.eu/templates/system/css/system.css" type="text/css" />
  <link rel="stylesheet" href="http://iostack.eu/templates/system/css/general.css" type="text/css" />
  <link rel="stylesheet" href="http://iostack.eu/plugins/system/jat3/jat3/base-themes/default/css/addons.css" type="text/css" />
  <link rel="stylesheet" href="http://iostack.eu/plugins/system/jat3/jat3/base-themes/default/css/layout.css" type="text/css" />
  <link rel="stylesheet" href="http://iostack.eu/plugins/system/jat3/jat3/base-themes/default/css/template.css" type="text/css" />
  <link rel="stylesheet" href="http://iostack.eu/plugins/system/jat3/jat3/base-themes/default/css/usertools.css" type="text/css" />
  <link rel="stylesheet" href="http://iostack.eu/plugins/system/jat3/jat3/base-themes/default/css/css3.css" type="text/css" />
  <link rel="stylesheet" href="http://iostack.eu/plugins/system/jat3/jat3/base-themes/default/css/menu/mega.css" type="text/css" />
  <link rel="stylesheet" href="http://iostack.eu/templates/ja_mendozite/css/typo.css" type="text/css" />
  <link rel="stylesheet" href="http://iostack.eu/templates/ja_mendozite/css/layout.css" type="text/css" />
  <link rel="stylesheet" href="http://iostack.eu/templates/ja_mendozite/css/template.css" type="text/css" />
  <link rel="stylesheet" href="http://iostack.eu/templates/ja_mendozite/css/css3.css" type="text/css" />
  <link rel="stylesheet" href="http://iostack.eu/templates/ja_mendozite/css/menu/mega.css" type="text/css" />
  <link rel="stylesheet" href="http://iostack.eu/templates/ja_mendozite/themes/blue/css/typo.css" type="text/css" />
  <link rel="stylesheet" href="http://iostack.eu/templates/ja_mendozite/themes/blue/css/template.css" type="text/css" />
  <link rel="stylesheet" href="http://iostack.eu/templates/ja_mendozite/themes/blue/css/menu/mega.css" type="text/css" />
  <script src="http://iostack.eu/media/system/js/mootools-core.js" type="text/javascript"></script>
  <script src="http://iostack.eu/media/system/js/core.js" type="text/javascript"></script>
  <script src="http://iostack.eu/media/system/js/mootools-more.js" type="text/javascript"></script>
  <script src="http://iostack.eu/media/system/js/caption.js" type="text/javascript"></script>
  <script src="http://iostack.eu/plugins/system/jat3/jat3/base-themes/default/js/core.js" type="text/javascript"></script>
  <script src="http://iostack.eu/plugins/system/jat3/jat3/base-themes/default/js/menu/mega.js" type="text/javascript"></script>
  <script type="text/javascript">
window.addEvent('load', function() {
				new JCaption('img.caption');
			});
  </script>

<!--[if ie]><link href="/plugins/system/jat3/jat3/base-themes/default/css/template-ie.css" type="text/css" rel="stylesheet" /><![endif]--> 
<!--[if ie 7]><link href="/plugins/system/jat3/jat3/base-themes/default/css/template-ie7.css" type="text/css" rel="stylesheet" /><![endif]--> 
<!--[if ie 7]><link href="/templates/ja_mendozite/css/template-ie7.css" type="text/css" rel="stylesheet" /><![endif]--> 




<link href="http://iostack.eu/plugins/system/jat3/jat3/base-themes/default/images/favicon.ico" rel="shortcut icon" type="image/x-icon" />
    
    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=PT+Sans:bold&amp;subset=cyrillic" />

<style type="text/css">
/*dynamic css*/
    #ja-splitmenu,
    #jasdl-mainnav,
    #ja-cssmenu li,
    #ja-megamenu ul.level0
    {font-family: 'PT Sans';font-weight:bold;font-style:bold;}
    .contentheading,
    .article-content h1,
    .article-content h2,
    .article-content h3,
    .article-content h4,
    .article-content h5,
    .article-content h6
    {font-family: 'PT Sans';font-weight:bold;font-style:bold; }
    div.ja-moduletable h3, div.moduletable h3,
    div.ja-module h3, div.module h3
    {font-family: 'PT Sans';font-weight:bold;font-style:bold;}

    body.bd .main {width: 1000px;}
    body.bd #ja-wrapper {min-width: 1000px;}
</style></head>

<body id="bd" class="bd fs3 com_content">
<a name="Top" id="Top"></a>
<div id="ja-wrapper">


                <div id="ja-header"
            	class="wrap ">
                   <div class="main">
                           <div class="main-inner1 clearfix">
                <h1 class="logo">
    <a href="../index.html" title="H2020 IOStack"><span>H2020 IOStack</span></a>
</h1>                </div>
                            </div>
                        </div>
                        <div id="ja-mainnav"
            	class="wrap ">
                   <div class="main">
                           <div class="main-inner1 clearfix">
                <div class="ja-megamenu clearfix" id="ja-megamenu">
<ul class="megamenu level0"><li  class="mega first"><a href="../index.html"  class="mega first" id="menu107" title="Home"><span class="menu-title">Home</span></a></li><li  class="mega"><a href="../news.html"  class="mega" id="menu108" title="News"><span class="menu-title">News</span></a></li><li  class="mega"><a href="../about-project.html"  class="mega" id="menu109" title="About the project"><span class="menu-title">About the project</span></a></li><li  class="mega"><a href="../partners.html"  class="mega" id="menu110" title="Partners"><span class="menu-title">Partners</span></a></li><li  class="mega haschild active"><a href="sdgen.html#"  class="mega haschild active" id="menu150" title="Software"><span class="menu-title">Software</span></a><div class="childcontent cols1 ">
<div class="childcontent-inner-wrap">
<div class="childcontent-inner clearfix" style="width: 200px;"><div class="megacol column1 first" style="width: 200px;"><ul class="megamenu level1"><li  class="mega first"><a href="crystal.html"  class="mega first" id="menu152" title="Crystal"><span class="menu-title">Crystal</span></a></li><li  class="mega"><a href="zoe.html"  class="mega" id="menu153" title="Zoe"><span class="menu-title">Zoe</span></a></li><li  class="mega"><a href="konnector.html"  class="mega" id="menu154" title="Konnector"><span class="menu-title">Konnector</span></a></li><li  class="mega"><a href="storlets.html"  class="mega" id="menu156" title="Storlets"><span class="menu-title">Storlets</span></a></li><li  class="mega"><a href="stocator.html"  class="mega" id="menu157" title="Stocator"><span class="menu-title">Stocator</span></a></li><li  class="mega last active"><a href="sdgen.html"  class="mega last active" id="menu151" title="SDGen"><span class="menu-title">SDGen</span></a></li></ul></div></div>
</div></div></li><li  class="mega"><a href="../publications.html"  class="mega" id="menu122" title="Publications"><span class="menu-title">Publications</span></a></li><li  class="mega"><a href="../deliverables.html"  class="mega" id="menu144" title="Deliverables"><span class="menu-title">Deliverables</span></a></li><li  class="mega last"><a href="../datasets-menu.html"  class="mega last" id="menu155" title="Datasets"><span class="menu-title">Datasets</span></a></li></ul>
</div>            <script type="text/javascript">
                var megamenu = new jaMegaMenuMoo ('ja-megamenu', {
                    'bgopacity': 0,
                    'delayHide': 300,
                    'slide'    : 0,
                    'fading'   : 0,
                    'direction': 'down',
                    'action'   : 'mouseover',
                    'tips'     : false,
                    'duration' : 300,
                    'hidestyle': 'fastwhenshow'
                });
            </script>
            <!-- jdoc:include type="menu" level="0" / -->



<ul class="no-display">
    <li><a href="sdgen.html#ja-content" title="Skip to content">Skip to content</a></li>
</ul>                </div>
                            </div>
                        </div>
            
    <!-- MAIN CONTAINER -->
    <div id="ja-container" class="wrap ja-mf">
               <div class="main clearfix">
                   <div id="ja-mainbody" style="width:100%">
            <!-- CONTENT -->
            <div id="ja-main" style="width:100%">
            <div class="inner clearfix">

                
<div id="system-message-container">
</div>
                
                <div id="ja-contentwrap" class="clearfix ">
                    <div id="ja-content" class="column" style="width:100%">
                        <div id="ja-current-content" class="column" style="width:100%">
                            
                                                        <div id="ja-content-main" class="ja-content-main clearfix">
                                <div class="item-page clearfix">
	<h2 class="contentheading">
			SDGen		</h2>



	<h3>Introduction</h3>
<p>SDGen &lt;<a href="https://github.com/iostackproject/SDGen">https://github.com/iostackproject/SDGen</a>&gt; is a synthetic data generator for storage benchmarks. The objective of this framework is to enable users creating methods to generate realistic data to feed storage benchmarking tools.</p>
<h3>Architecture</h3>
<p>SDGen is designed to capture characteristics of data that can affect the outcome of applying data reduction techniques on it. As we show next, SDGen works in two phases: A priming scan phase which build data characterizations to be used by a subsequent generation phase.</p>
<h3>Scan Phase</h3>
<p>To capture the characteristics of data, SDGen implements a two-level scan phase: chunk level and dataset level. Many compression algorithms (e.g. lz4, zlib) partition the input data stream into chunks, and apply compression separately for every chunk; such algorithms try to exploit redundancy which stems from locality of data (repetitions, common bytes) while minimizing the size of their internal data structures. Therefore, a central element in our design is the chunk characterization (CC). A CC is a user-defined module that contains the necessary information for every data chunk. SDGen scans a given dataset by splitting its contents into chunks (e.g., from 8KB to 128KB, configurable by the user) that are characterized individually (step 1 and 2, Fig. 3).</p>
<p>In a higher level, SDGen builds dataset characterizations (DC), which provide a more holistic characterization. In the current version of SDGen, DCs store the deduplication ratio of the entire dataset as well as a list of all the previously generated CCs. To support the above scans, SDGen applies two modules: Chunk scanners and Dataset scanners. These modules are loaded from the configuration in a manager class (DataScanner), which processes the dataset, and concurrently uses it as input for the scanners in order to build the characterization. The DataScanner life-cycle appears in Fig. 3.</p>
<p>The scan phase ends by persistently storing a DC (step 4, Fig. 3). SDGen also includes a way of transparently storing and loading DCs, enabling users to easily creating and sharing them.</p>
<p align="center"><img src="http://iostack.eu/images/sdgen_architecture.png" border="0" alt="" width="582" height="382" /></p>
<h3>Generation Phase</h3>
<p>Once in possession of a DC, users may load it in SDGen to generate synthetic data similar to the original dataset.</p>
<p>The heart of the generation phase is the generation algorithm. This algorithm is designed by the user and receives as input a CC filled with the data characteristics captured by chunk scanners (see Section 4.3). Since CCs are read-only and independent of each other, the generageneration algorithm can utilize parallelism for faster data generation. A module called DataProducer orchestrates the content generation process.</p>
<p>The DataProducer is also responsible for taking into account dataset-level characteristics during the generation process. Currently, this is mainly used for generating duplicated data. However, we concentrate on data compression, leaving the analysis of deduplicated data for future work. The DataProducer module generates data using two API calls: getSynData() and getSynData(size). The first call retrieves entire synthetic chunks with the same size as the original chunk. This is adequate for generating large amounts of content, such as file system images. The second call specifies the size of the synthetic data to be generated. This call is an optimization to avoid wasting synthetic data in benchmarks that require small amounts of data per operation (e.g. OLTP, databases). Technically, successive executions of this method will retrieve subparts of a synthetic chunk until it is exhausted and a new one is created.</p>
<h3>How to Extend SDGen</h3>
<p>SDGen enables users to integrate novel data generation methods in the framework. To this end, one should follow three steps:</p>
<ol>
<li><span style="line-height: 1.3em;">Characterization: Create a CC extending the AbstractChunkCharacterization class. This user-defined characterization should contain the required information for the data generation process. </span></li>
<li><span style="line-height: 1.3em;">Scanners: Provide the necessary scanners to fill the content of CCs and DCs during the scan process. Chunk-level scanners should extend from AbstractChunkScanner and implement the method setInfo, to set the appropriate CC fields. 3. </span></li>
<li><span style="line-height: 1.3em;">Generation: Design a data generation algorithm according to the properties captured during the scan phase. This algorithm should be embedded in a module extending AbstractDataGenerator, to benefit from the parallel execution offered by DataProducer. Concretely, a user only needs to override the fill(byte[]) method to fill with synthetic data the input array.</span></li>
</ol>
<p><span style="line-height: 1.3em;">SDGen manages the life-cycle of the user-defined modules to scan/generate data, which are loaded from a simple configuration file. </span></p>
<h3><span style="line-height: 1.3em;">A Data Mimicking Method for Compression </span></h3>
<p><span style="line-height: 1.3em;">Next, we describe a practical example of how to make use of the framework integrating novel data mimicking mehtods. Concretely, our method implemented in SDGen tries to emulate the compression ratios and times of a target dataset for a variety of compression engines (lz4, zlib,...). </span></p>
<h3><span style="line-height: 1.3em;">Method Rationale </span></h3>
<p><span style="line-height: 1.3em;">Mimicking data for compressors requires first to understand how they compress data. Technically, the compressors we target encode (i) each repetition by length and back point distance, and (ii) bytes or literals. Moreover, compressors using Huffman codes encode lengths, back point distances and bytes based on their frequencies.</span></p>
<p align="center"><img src="http://iostack.eu/images/sdgen_method_rationale.png" border="0" alt="" width="551" height="194" /></p>
<p>Given that, we identified two main characteristics that affect the behavior of compression algorithms: repetition length distribution and frequencies of bytes. First, compression algorithms exploit the existence of n repeated sequences within a data chunk by substituting the remaining n-1 repetitions by pointers to the first one. However, we empirically found that the distribution of repetitions tends to follow a power-law. As can be seen in the previous figure (left), the majority of repetitions are short ones (&lt; 10 bytes). Consequently, compression algorithms perform many operations to exploit these small repetitions, which in turn has an impact on performance.</p>
<p>Second, several compression algorithms resort to encoding schemes (e.g. Huffman coding) to represent the bytes within a data chunk in the shortest way possible. In essence, the encoding associates identifiers to bytes so that the most frequent bytes are represented by the lower (shorter) identifiers, saving storage space. Therefore, to generate synthetic content we must also take into account the distribution of bytes during the scan process. As we observe in the previous figure (right), the skew in the distribution of byte frequency changes significantly from text files to random-like data (PDFs). This may impact the encoding process speed. These observations guided the design of our mimicking method for compression algorithms.</p>
<h3>Implementation</h3>
<p>Following the first point mentioned in "How to Extend SDGen", to capture the aforementioned data characteristics, in our method every Chunk Characterization (CC) contains:</p>
<ul>
<li><span style="line-height: 1.3em;">Byte frequency histogram. We build a histogram that relates the bytes that appear in a data chunk with their frequencies, encoding it as a &lt;byte, frequency&gt; map that we use to generate synthetic data that mimics this byte distribution. This information is key to emulate the entropy of the original data, among other aspects.</span></li>
<li><span style="line-height: 1.3em;">Repetition length histogram. To encode this histogram, we use a map whose keys represent the length of repetitions found in a chunk and the values are frequencies of repetitions of a given length. Our aim is to mimic the distribution of repetition lengths in the synthetic data. For repetition finding, we use the zlib’s Deflate algorithm.</span></li>
<li><span style="line-height: 1.3em;">Compression ratio. Every CC also includes the compression ratio of the original data chunk. In the generation phase, SDGen will try to create a synthetic chunk with similar compressibility. </span></li>
</ul>
<p><span style="line-height: 1.3em;">Our CC module (MotifChunkCharacterization) is located in package com.ibm.characterization.user and extends AbstractChunkCharacterization, as other data mimicking methods should do. </span></p>
<p><span style="line-height: 1.3em;">Second, we need specific scanners to fill CCs when scanning a targeted dataset. To this end, we created two scanners: DataCompressibilityScanner that extracts from a data chunk the compression ratio and the repetition length histogram, and AlphabetScanner that gets the distribution of bytes within a data chunk. Both scanners are located at package com.ibm.scan.user and extend from AbstractChunkScanner, as other user-defined scanners should do. </span></p>
<p><span style="line-height: 1.3em;">Finally, we created a data generation algorithm that is called by DataProducer every time a new synthetic chunk of data is created. Very succintly, the algorithm interleaves random and repeated data whose lengths and byte distributions are drawn by the histograms captured in the CC that represents a real data chunk. The ratio at which random and repeated sequences are interleaved is dictated by the compression ratio of the scanned data chunk. This algorithm is implemented in the class MotifDataGenerator and extends AbstractDataGenerator. As other user-defined data generation algorithms, this class is located at package com.ibm.generation.user. </span></p>
<h3><span style="line-height: 1.3em;">A "Hello World" Test </span></h3>
<p><span style="line-height: 1.3em;">Next, we describe how to run a simple test with the framework (com.ibm.test.HelloWorldTest). This test consists of the following parts that show the usability of the framework: </span></p>
<ol>
<li><span style="line-height: 1.3em;">The test scans a dataset. </span></li>
<li><span style="line-height: 1.3em;">Once the scan finishes, we persist a dataset characterization that can be shared with others. </span></li>
<li><span style="line-height: 1.3em;">We load the characterization to check that loading a characterization works. </span></li>
<li><span style="line-height: 1.3em;">We load the characterization in the DataProducer to generate a synthetic dataset similar to the original one. </span></li>
<li><span style="line-height: 1.3em;">Finally, we compare the compression ratio and time of these datasets for various compression engines chunk-by-chunk. </span></li>
</ol>
<p><span style="line-height: 1.3em;">As a starting point, you can run this test with well-known datasets, such as the Canterbury/Calgary corpus (<a href="http://corpus.canterbury.ac.nz">http://corpus.canterbury.ac.nz</a>) or the Silesia corpus (<a href="http://www.data-compression.info/Corpora/SilesiaCorpus/index.htm">http://www.data-compression.info/Corpora/SilesiaCorpus/index.htm</a>). </span></p>
<p><span style="line-height: 1.3em;">Finally, we provide various dataset characterizations that had been build from scanning real datasets (/dataset_characterizations). Of course, you can scan, build and share new dataset characterizations from your own data or other datasets. That's the point of the framework. </span></p>
<h3><span style="line-height: 1.3em;">Integration with Benchmarks </span></h3>
<p><span style="line-height: 1.3em;">At this moment, we provide modules for a basic integration of SDGen as a data generation layer with Impressions (<a href="http://research.cs.wisc.edu/adsl/Software/Impressions">http://research.cs.wisc.edu/adsl/Software/Impressions</a>) and LinkBench (<a href="https://github.com/facebook/linkbench">https://github.com/facebook/linkbench</a>). </span></p>
<h3><span style="line-height: 1.3em;">Issue Tracking </span></h3>
<p><span style="line-height: 1.3em;">We use the GitHub issue tracking. </span></p>
<h3><span style="line-height: 1.3em;">Licensing </span></h3>
<p><span style="line-height: 1.3em;">SDGen is licensed under the GPLv3. Check [LICENSE](LICENSE) for the latest licensing information. # Contact Visit <a href="../index.html">http://ast-deim.urv.cat</a> or <a href="../index.html">http://iostack.eu</a> for contact information.</span></p> 
		

	</div>                            </div>
                            
                                                    </div>

                                            </div>

                    
                </div>

                            </div>
            </div>
            <!-- //CONTENT -->
            
        </div>
                        </div>
                </div>
        <!-- //MAIN CONTAINER -->

                <div id="ja-navhelper"
            	class="wrap ">
                   <div class="main">
                           <div class="main-inner1 clearfix">
                <div class="ja-breadcrums">
    <span class="breadcrumbs pathway">
<strong>You are here: </strong><a href="../index.html" class="pathway">Home</a> <img src="http://iostack.eu/templates/ja_mendozite/images/system/arrow.png" alt=""  /> <a href="sdgen.html#" class="pathway">Software</a> <img src="http://iostack.eu/templates/ja_mendozite/images/system/arrow.png" alt=""  /> SDGen</span>

</div>

<ul class="ja-links">
        <li class="top"><a href="javascript:scroll(0,0)" title="Back to top">Top</a></li>
</ul>

<ul class="no-display">
    <li><a href="sdgen.html#ja-content" title="Skip to content">Skip to content</a></li>
</ul>                </div>
                            </div>
                        </div>
                        <div id="ja-footer"
            	class="wrap ">
                   <div class="main">
                           <div class="main-inner1 clearfix">
                <div class="ja-copyright">
    
</div>                </div>
                            </div>
                        </div>
            
</div>



<noscript><strong>JavaScript is currently disabled.</strong>Please enable it for a better experience of <a href="http://2glux.com/projects/jumi">Jumi</a>.</noscript></body>

</html>